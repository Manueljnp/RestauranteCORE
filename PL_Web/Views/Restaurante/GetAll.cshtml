@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model ML.Restaurante

@{
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<a href="@Url.Action("Form", "Restaurante")" class="btn btn-primary mb-3">
    Agregar
    <i class="bi bi-plus-square-fill"></i>
</a>

@if(Model?.Restaurantes?.Count > 0)
{
    <div class="table-responsive">
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th scope="col">Editar</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Eslogan</th>
                    <th scope="col">Imagen</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Eliminar</th>
                </tr>
            </thead>
            <tbody>
                @foreach(ML.Restaurante restaurante in Model.Restaurantes)
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("Form", "Restaurante", new {IdRestaurante = restaurante.IdRestaurante})"
                               class="btn btn-warning">
                                <i class="bi bi-pencil"></i>
                            </a>
                        </td>
                        <td>@restaurante.Nombre</td>
                        <td>@restaurante.Eslogan</td>
                        <td>
                            @if (restaurante.Imagen != null)
                            {
                                <img src="@($"data:image/jpeg;base64,{Convert.ToBase64String(restaurante.Imagen)}")" width="80" height="80" />
                            }
                            else
                            {
                                <img id="imgRestaurante" src="https://thumb.ac-illust.com/51/51e1c1fc6f50743937e62fca9b942694_t.jpeg" width="80" height="80" />

                            }
                        </td>
                        <td>@restaurante.Descripcion</td>
                        <td>
                            <a href="@Url.Action("Delete", "Restaurante", new {idRestaurante = restaurante.IdRestaurante})"
                               class="btn btn-danger " onclick="return confirm('Seguro que lo quieres borrar?')">
                               <i class="bi bi-trash3"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <p>Pues algo salió mal</p>
}

        

